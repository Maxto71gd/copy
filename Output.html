<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qoraal iyo Tirada</title>
    <style>
        html { background: #31d1d6; }
        .mami { color: blue; background: #fff; }
        input { background: #9FF4DF; height: 25px; color: blue; }
        #output { white-space: pre-wrap; word-wrap: break-word; color: blue; }
        label, h1, h2 { color: blue; }
        input::placeholder { color: blue; }
        button {
            background-color: #4CAF50; color: white; padding: 10px 20px; 
            border: none; border-radius: 5px; cursor: pointer; font-size: 16px;
        }
        button:hover { background-color: #45a049; }
    </style>
</head>
<body>
    <h1>Ku qor qoraalkaaga</h1>
    <input type="text" id="inputField" placeholder="Geli qoraalkaaga">
    <button onclick="processInput()">Soo bandhig</button>
    <button onclick="copyText()">Copy</button>

    <input type="range" id="numberOfRepeats" min="1" max="100" value="100" step="1">
    <span id="repeatValue">100</span> jeer
    <label>xadka tirada</label>

    <a href="https://wa.me/252672146979?text=Waxaan%20doonayaa%20inaad%20iga%20caawiso%20cilada" target="_blank" class="mami">
        Contacts
    </a>
    <label>Caawinaad</label>
    <button onclick="raf()">Bogeena kale</button>

    <h2>Natiijooyinka:</h2>
    <div id="output"></div>

    <script>
        const bannedCountries = ["Somalia", "Japan", "Ethiopia", "Kenya"];

        document.addEventListener("DOMContentLoaded", () => {
            localStorage.removeItem("isBanned"); // Nadiifi xogta hore
            checkAccess();
        });

        function checkAccess() {
            fetch("https://ipapi.co/json/")
                .then(response => response.json())
                .then(data => {
                    const userCountry = data.country_name;

                    if (bannedCountries.includes(userCountry)) {
                        localStorage.setItem("isBanned", "true");
                        blockAccess();
                    } else {
                        unblockAccess();
                    }
                })
                .catch(error => {
                    console.error("Khalad ayaa dhacay:", error);
                });
        }

        function blockAccess() {
            document.body.innerHTML = `
                <h1>404 Not Found</h1>
                <p>Ma jiro adeeg aad ka heli karto boggan. Fadlan la xiriir maamulka 
                    <a href="https://wa.me/252672146979?text=Waxaan%20doonayaa%20inaad%20iga%20caawiso%20cilada" target="_blank">
                        halkan
                    </a>.
                </p>
            `;
        }

        function unblockAccess() {
            console.log("Bogga waa la furay sababtoo ah waddanka waa la ogol yahay.");
        }

        document.getElementById("numberOfRepeats").addEventListener("input", function() {
            document.getElementById("repeatValue").textContent = this.value;
        });

        function processInput() {
            const qoraalka = document.getElementById("inputField").value;
            const repeatCount = document.getElementById("numberOfRepeats").value;
            const output = document.getElementById("output");
            alert("Qoraalkaagi waxaad ka dhigtay [" + repeatCount + "] jeer ee taabo badhanka Copy si aad u koobiyayso");

            output.innerHTML = "";
            for (let i = 1; i <= repeatCount; i++) {
                const line = document.createElement("p");
                line.textContent = `${i} ${qoraalka}`;
                output.appendChild(line);
            }
        }

         function copyText() {
            const output = document.getElementById("output");
            const range = document.createRange();
            range.selectNodeContents(output);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            document.execCommand("copy");
            alert("Waad koobiyaysatay");
        }

        function raf() {
            window.location.href = "Jio.html";
            alert("Bogeenii kale waad gashay");
        }
    </script>
</body>
</html>
